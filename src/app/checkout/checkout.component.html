<div class="path" [@fadeIn]="">
    <a class="path__name" routerLink="/homepage">Homepage</a>
    <span class="path__name path__name_sign">/</span>
    <a class="path__name path__name_last">Checkout page</a>
</div>
<div class="billing" data-cy="checkoutContainer">
    <form action="" [formGroup]="form" [@fadeIn]="" (ngSubmit)="sendToFormBank()">
        <div class="billing__left-side">
            <div class="billing__element info">
                <h3 class="billing__title">Billing info</h3>
                <div class="billing__subtitle-box">
                    <span class="billing__subtitle">Please enter your billing info</span>
                    <span class="billing__subtitle">Step 1 of 5</span>
                </div>
                <div class="info__row">
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">First name</label>
                        <input type="text" class="info__input input" data-cy="firstName" placeholder="First name"
                            formControlName="firstName">
                        <span class="invalid"
                            *ngIf="form.controls['firstName'].invalid && form.controls['firstName'].touched">
                            <small *ngIf="form.controls['firstName'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['firstName'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['firstName'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">Last name</label>
                        <input type="text" class="info__input input" data-cy="lastName" placeholder="Last name"
                            formControlName="lastName">
                        <span class="invalid"
                            *ngIf="form.controls['lastName'].invalid && form.controls['lastName'].touched">
                            <small *ngIf="form.controls['lastName'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['lastName'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['lastName'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                </div>
                <div class="info__row">
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">Email address</label>
                        <input type="text" class="info__input input" data-cy="email" placeholder="Email address"
                            formControlName="email">
                        <span class="invalid" *ngIf="form.controls['email'].invalid && form.controls['email'].touched">
                            <small *ngIf="form.controls['email'].errors?.['email']">It is`n email address</small>
                            <small *ngIf="form.controls['email'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">Phone number</label>
                        <input type="text" class="info__input input" data-cy="phoneNumber" placeholder="Phone number"
                            formControlName="numberPhone">
                        <span class="invalid"
                            *ngIf="form.controls['numberPhone'].invalid && form.controls['numberPhone'].touched">
                            <small *ngIf="form.controls['numberPhone'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['numberPhone'].errors?.['pattern']">Field is not type of
                                number</small>
                            <small *ngIf="form.controls['numberPhone'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['numberPhone'].errors?.['required']">Field can`t be
                                empty</small>
                        </span>
                    </div>
                </div>
                <div class="info__row">
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">Address</label>
                        <input type="text" class="info__input input" data-cy="address" placeholder="Address"
                            formControlName="address">
                        <span class="invalid"
                            *ngIf="form.controls['address'].invalid && form.controls['address'].touched">
                            <small *ngIf="form.controls['address'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['address'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['address'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">Town / City</label>
                        <input type="text" class="info__input input" data-cy="city" placeholder="Town or city"
                            formControlName="city">
                        <span class="invalid" *ngIf="form.controls['city'].invalid && form.controls['city'].touched">
                            <small *ngIf="form.controls['city'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['city'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['city'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                </div>
                <div class="info__row">
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">State / Country</label>
                        <input type="text" class="info__input input" data-cy="country"
                            placeholder="Choose a state or Country" formControlName="country">
                        <span class="invalid"
                            *ngIf="form.controls['country'].invalid && form.controls['country'].touched">
                            <small *ngIf="form.controls['country'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['country'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['country'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                    <div class="info__lable-input-box">
                        <label for="" class="billing__lable">ZIP/Postal code</label>
                        <input type="text" class="info__input input" data-cy="zip" placeholder="Postal code or ZIP"
                            formControlName="postalCode">
                        <span class="invalid"
                            *ngIf="form.controls['postalCode'].invalid && form.controls['postalCode'].touched">
                            <small *ngIf="form.controls['postalCode'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['postalCode'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['postalCode'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                </div>
                <div class="info__row">
                    <div class="billing__input-check-box">
                        <input type="checkbox" class="billing__input-check" data-cy="differentAddress"
                            formControlName="differentAddress">
                        <label for="" class="billing__lable-check">Ship to a different address?</label>
                    </div>
                </div>
            </div>

            <div class="billing__element method">
                <h3 class="billing__title">Billing method</h3>
                <div class="billing__subtitle-box">
                    <span class="billing__subtitle">Please enter your payment method</span>
                    <span class="billing__subtitle">Step 2 of 5</span>
                </div>
                <div class="method__row">
                    <div class="method__row-box">
                        <input class="method__input" type="radio" checked name="fedexDhl" (change)="clickFedexDhl()">
                        <span class="method__text">FedEx</span>
                    </div>
                    <div class="method__row-box">
                        <span class="method__money">+32USD</span>
                        <span class="method__text">Additional price</span>
                    </div>
                    <img class="method__img" src="assets/FedEx.png" alt="FedEx icon">
                </div>
                <div class="method__row">
                    <div class="method__row-box">
                        <input class="method__input" type="radio" name="fedexDhl" (change)="clickFedexDhl()">
                        <span class="method__text">DHL</span>
                    </div>
                    <div class="method__row-box">
                        <span class="method__money">+15USD</span>
                        <span class="method__text">Additional price</span>
                    </div>
                    <img class="method__img" src="assets/dhl.png" alt="DHL icon">
                </div>
            </div>

            <div class="billing__element payment">
                <h3 class="billing__title">Payment method</h3>
                <div class="billing__subtitle-box">
                    <span class="billing__subtitle">Please enter your payment method</span>
                    <span class="billing__subtitle">Step 3 of 5</span>
                </div>
                <div class="payment__credit-card credit-card">
                    <div class="credit-card__first-row">
                        <input class="method__input" type="radio" checked name="pay" >
                        <label for="" class="billing__lable">Credit card</label>
                        <picture class="credit-card__picture">
                            <img class="credit-card__image" src="assets/credit-card.svg" alt="credit-card">
                        </picture>
                    </div>
                    <div class="credit-card__lable-input-box">
                        <label for="" class="billing__lable">Card number</label>
                        <input type="text" class="credit-card__input input" data-cy="cardNumber"
                            placeholder="Card number" formControlName="cardNumber">
                        <span class="invalid"
                            *ngIf="form.controls['cardNumber'].invalid && form.controls['cardNumber'].touched">
                            <small *ngIf="form.controls['cardNumber'].errors?.['minlength']">Field is too short</small>
                            <small *ngIf="form.controls['cardNumber'].errors?.['pattern']">Field is not type of
                                number</small>
                            <small *ngIf="form.controls['cardNumber'].errors?.['maxlength']">Field is too long</small>
                            <small *ngIf="form.controls['cardNumber'].errors?.['required']">Field can`t be empty</small>
                        </span>
                    </div>
                    <div class="credit-card__last-row">
                        <div class="credit-card__holder">
                            <label for="" class="billing__lable">Card holder</label>
                            <input class="method__input" type="text" class="credit-card__input input"
                                data-cy="cardHolder" placeholder="Card holder" formControlName="cardHolder">
                            <span class="invalid"
                                *ngIf="form.controls['cardHolder'].invalid && form.controls['cardHolder'].touched">
                                <small *ngIf="form.controls['cardHolder'].errors?.['minlength']">Field is too
                                    short</small>
                                <small *ngIf="form.controls['cardHolder'].errors?.['maxlength']">Field is too
                                    long</small>
                                <small *ngIf="form.controls['cardHolder'].errors?.['required']">Field can`t be
                                    empty</small>
                            </span>
                        </div>
                        <div class="credit-card__date-cvc">
                            <label for="" class="billing__lable">Expiration date</label>
                            <input type="text" class="credit-card__input input" data-cy="cardDate"
                                placeholder="DD/MM/YY" formControlName="cardDate">
                            <span class="invalid"
                                *ngIf="form.controls['cardDate'].invalid && form.controls['cardDate'].touched">
                                <small *ngIf="form.controls['cardDate'].errors?.['minlength']">Field is too
                                    short</small>
                                <small *ngIf="form.controls['cardDate'].errors?.['maxlength']">Field is too long</small>
                                <small *ngIf="form.controls['cardDate'].errors?.['pattern']">Field is not type of
                                    number</small>
                                <small *ngIf="form.controls['cardDate'].errors?.['required']">Field can`t be
                                    empty</small>
                            </span>
                        </div>
                        <div class="credit-card__date-cvc credit-card__date-cvc_cvc">
                            <label for="" class="billing__lable">cvc</label>
                            <input type="text" class="credit-card__input input" data-cy="cvc" placeholder="CVC"
                                formControlName="cvc">
                            <span class="invalid" *ngIf="form.controls['cvc'].invalid && form.controls['cvc'].touched">
                                <small *ngIf="form.controls['cvc'].errors?.['minlength']">Field is too short</small>
                                <small *ngIf="form.controls['cvc'].errors?.['maxlength']">Field is too long</small>
                                <small *ngIf="form.controls['cvc'].errors?.['pattern']">Field is not type of
                                    number</small>
                                <small *ngIf="form.controls['cvc'].errors?.['required']">Field can`t be empty</small>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="method__row method__row_paypal">
                    <div class="method__row-box">
                        <input class="method__input" type="radio" name="pay">
                        <span class="method__text">PayPal</span>
                    </div>
                    <img class="method__img" src="assets/PayPal.png" alt="FedEx icon">
                </div>
                <div class="method__row">
                    <div class="method__row-box">
                        <input class="method__input" type="radio" name="pay">
                        <span class="method__text">Bitcoin</span>
                    </div>
                    <img class="method__img" src="assets/bitcoin.png" alt="FedEx icon">
                </div>
            </div>

            <div class="billing__element additional">
                <h3 class="billing__title">Additional informations</h3>
                <div class="billing__subtitle-box">
                    <span class="billing__subtitle">Need something else? We will make it for you!</span>
                    <span class="billing__subtitle">Step 4 of 5</span>
                </div>
                <div class="additional__field">
                    <label for="" class="billing__lable">Order notes</label>
                    <textarea class="additional__textarea input" cols="30" rows="4" formControlName="notes"
                        data-cy="textarea"
                        placeholder="Need a specific delivery day? Sending a gitf? Let`s say ..."></textarea>
                </div>
            </div>

            <div class="billing__element confirmation">
                <h3 class="billing__title">Confirmation</h3>
                <div class="billing__subtitle-box">
                    <span class="billing__subtitle">We are getting to the end. Just few clicks and your order si
                        ready!</span>
                    <span class="billing__subtitle">Step 5 of 5</span>
                </div>
                <div class="confirmation__field confirmation__field_first">
                    <div class="billing__input-check-box">
                        <input type="checkbox" data-cy="noSpam" class="billing__input-check" formControlName="noSpam">
                        <label for="" class="billing__lable-check">I agree with sending an Marketing and newsletter
                            emails. No spam, promissed!</label>
                    </div>
                    <span class="invalid invalid_gray" *ngIf="form.controls['noSpam'].invalid">
                        <small *ngIf="form.controls['noSpam'].errors?.['required']">*Field can`t be unchecked</small>
                    </span>
                </div>
                <div class="confirmation__field">
                    <div class="billing__input-check-box">
                        <input type="checkbox" class="billing__input-check" data-cy="privacyPolicy"
                            formControlName="privacyPolicy">
                        <label for="" class="billing__lable-check">I agree with our terms and conditions and privacy
                            policy.</label>
                    </div>
                    <span class="invalid invalid_gray" *ngIf="form.controls['privacyPolicy'].invalid">
                        <small *ngIf="form.controls['privacyPolicy'].errors?.['required']">*Field can`t be
                            unchecked</small>
                    </span>
                </div>
            </div>

            <button type="submit" [disabled]="form.invalid" data-cy="sendOrder" class="billing__btn btn">Complete
                order</button>

            <div class="billing__safe-sign-box safe-sign-box">
                <picture>
                    <img class="safe-sign-box__image" src="assets/safe-data.png" alt="safe data sign">
                </picture>
                <p class="safe-sign-box__subtitle">All your data are safe</p>
                <p class="safe-sign-box__text">We are using the most advanced security to provide you the best
                    experience
                    ever.</p>
            </div>
        </div>
    </form>
    <div class="billing__basket basket" [@fadeIn]="">
        <header class="basket__header">
            <h2 class="basket__title">Order Summary</h2>
            <p class="basket__subTitle">Price can change depending on shipping method and taxes of your state.</p>
        </header>

        <main class="basket__main">
            <div class="basket__product-box">
                <app-basket-one-element></app-basket-one-element>
            </div>
        </main>

        <footer class="basket__footer">
            <div class="basket__subtotal-box">
                <span class="basket__subtotal-text">Subtotal</span>
                <span class="basket__subtotal-text">{{subtotal | number: '1.0-2'}} USD</span>
            </div>
            <div class="basket__subtotal-box">
                <span class="basket__subtotal-text">Tax</span>
                <span class="basket__subtotal-text">{{tax | number: '1.0-2'}} USD</span>
            </div>
            <div class="basket__subtotal-box">
                <span class="basket__subtotal-text">Shipping</span>
                <span class="basket__subtotal-text">{{shipping | number: '1.0-2'}} USD</span>
            </div>
            <div class="basket__promocode-box">
                <input type="text" class="basket__promocode-input" placeholder="Apply promo code" #promoCode>
                <button (click)="addPromoCode(promoCode)" [disabled]="promocodDisabled"
                    class="basket__promocode-input basket__promocode-input_btn" type="submit">Apply now</button>
            </div>
            <div class="basket__total-box">
                <div>
                    <span class="basket__subtotal-text">Total Order</span>
                    <p class="basket__total-date">Guaranteed delivery day: {{date | date: 'mediumDate'}}</p>
                </div>
                <div>
                    <span class="basket__price">{{price | number: '1.0-2'}} USD</span>
                </div>
            </div>
        </footer>
    </div>
</div>